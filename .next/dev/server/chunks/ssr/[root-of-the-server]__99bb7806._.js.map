{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/deyagharaibeh/Desktop/Runpod/components/ErrorMessage.tsx"],"sourcesContent":["interface ErrorMessageProps {\n  title?: string;\n  message: string;\n  onRetry?: () => void;\n  onDismiss?: () => void;\n}\n\nexport default function ErrorMessage({\n  title = 'Error',\n  message,\n  onRetry,\n  onDismiss,\n}: ErrorMessageProps) {\n  return (\n    <div className=\"bg-white rounded-2xl border-2 border-red-200 p-6 shadow-lg animate-slide-down\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"text-4xl flex-shrink-0\">‚ö†Ô∏è</div>\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"text-lg font-bold text-red-800 mb-2\">{title}</h3>\n          <p className=\"text-red-700 mb-4 leading-relaxed\">{message}</p>\n          <div className=\"flex gap-3 flex-wrap\">\n            {onRetry && (\n              <button\n                onClick={onRetry}\n                className=\"px-5 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200 text-sm font-semibold shadow-sm hover:shadow-md\"\n              >\n                Try Again\n              </button>\n            )}\n            {onDismiss && (\n              <button\n                onClick={onDismiss}\n                className=\"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-200 text-sm font-medium\"\n              >\n                Dismiss\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;;AAOe,SAAS,aAAa,EACnC,QAAQ,OAAO,EACf,OAAO,EACP,OAAO,EACP,SAAS,EACS;IAClB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BAAyB;;;;;;8BACxC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,8OAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAClD,8OAAC;4BAAI,WAAU;;gCACZ,yBACC,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;gCAIF,2BACC,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/deyagharaibeh/Desktop/Runpod/app/sessions/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/lib/auth-context';\nimport { apiClient } from '@/lib/api-client';\nimport { formatDistanceToNow } from 'date-fns';\nimport ErrorMessage from '@/components/ErrorMessage';\n\ntype TranscriptEntry = {\n  id: string;\n  timestamp: string;\n  speaker: 'user' | 'avatar' | 'witness' | 'interviewer';\n  text: string;\n};\n\ntype Session = {\n  id: string;\n  userId: string;\n  name: string;\n  avatarId: string;\n  quality: string;\n  language: string;\n  knowledgeBaseId?: string;\n  startTime: string;\n  endTime?: string;\n  duration?: number;\n  transcript: TranscriptEntry[];\n  report?: {\n    overallScore: number;\n    metrics: {\n      accuracy: number;\n      clarity: number;\n      tone: number;\n      pace: number;\n    };\n  };\n};\n\n// Helper function to safely parse and validate dates\nfunction isValidDate(dateString: string | undefined | null): boolean {\n  if (!dateString) return false;\n  const date = new Date(dateString);\n  return !isNaN(date.getTime());\n}\n\n// Helper function to safely format distance to now\nfunction formatDistance(dateString: string | undefined | null): string {\n  if (!isValidDate(dateString)) return 'Unknown time';\n  try {\n    return formatDistanceToNow(new Date(dateString!), { addSuffix: true });\n  } catch (error) {\n    return 'Unknown time';\n  }\n}\n\nexport default function SessionsPage() {\n  const router = useRouter();\n  const { user, isAuthenticated, loading } = useAuth();\n  const [sessions, setSessions] = useState<Session[]>([]);\n  const [loadingState, setLoadingState] = useState(true);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editName, setEditName] = useState('');\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [confirmDeleteId, setConfirmDeleteId] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (loading) return;\n    if (!isAuthenticated) {\n      router.push('/login');\n      return;\n    }\n\n    loadSessions();\n  }, [loading, isAuthenticated, router]);\n\n  const loadSessions = async () => {\n    try {\n      setLoadingState(true);\n      // Try API first\n      const res = await apiClient.get<any>('/api/sessions');\n      if (res?.success && Array.isArray(res.sessions)) {\n        // Sort by start time (newest first)\n        const sortedSessions = res.sessions.sort((a: Session, b: Session) => {\n          const dateA = isValidDate(a.startTime) ? new Date(a.startTime).getTime() : 0;\n          const dateB = isValidDate(b.startTime) ? new Date(b.startTime).getTime() : 0;\n          return dateB - dateA;\n        });\n        setSessions(sortedSessions);\n        return;\n      }\n      // Fallback to localStorage\n      const found: Session[] = [];\n      if (typeof window !== 'undefined') {\n        for (const key of Object.keys(localStorage)) {\n          if (key.startsWith('session_')) {\n            try {\n              const s = JSON.parse(localStorage.getItem(key) || 'null');\n              if (s?.id) found.push(s);\n            } catch { }\n          }\n        }\n        // Sort by start time\n        found.sort((a, b) => {\n          const dateA = isValidDate(a.startTime) ? new Date(a.startTime).getTime() : 0;\n          const dateB = isValidDate(b.startTime) ? new Date(b.startTime).getTime() : 0;\n          return dateB - dateA;\n        });\n      }\n      setSessions(found);\n    } catch (e) {\n      console.error('Failed to load sessions:', e);\n      // Last fallback to localStorage\n      const found: Session[] = [];\n      if (typeof window !== 'undefined') {\n        for (const key of Object.keys(localStorage)) {\n          if (key.startsWith('session_')) {\n            try {\n              const s = JSON.parse(localStorage.getItem(key) || 'null');\n              if (s?.id) found.push(s);\n            } catch { }\n          }\n        }\n        found.sort((a, b) => {\n          const dateA = isValidDate(a.startTime) ? new Date(a.startTime).getTime() : 0;\n          const dateB = isValidDate(b.startTime) ? new Date(b.startTime).getTime() : 0;\n          return dateB - dateA;\n        });\n      }\n      setSessions(found);\n    } finally {\n      setLoadingState(false);\n    }\n  };\n\n  // Open custom confirmation modal for delete\n  const requestDelete = (sessionId: string) => {\n    setConfirmDeleteId(sessionId);\n  };\n\n  // Actually delete after user confirms\n  const handleConfirmDelete = async () => {\n    if (!confirmDeleteId) return;\n\n    try {\n      console.log('üóëÔ∏è Deleting session:', confirmDeleteId);\n      const response = await apiClient.delete<any>(`/api/sessions/${confirmDeleteId}`);\n\n      if (response.success) {\n        console.log('‚úÖ Session deleted successfully');\n        setSessions((prev) => prev.filter((s) => s.id !== confirmDeleteId));\n        setConfirmDeleteId(null);\n        setErrorMessage(null);\n\n        // Also remove from localStorage\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem(`session_${confirmDeleteId}`);\n        }\n      } else {\n        throw new Error(response.error || 'Delete failed');\n      }\n    } catch (error: any) {\n      console.error('‚ùå Failed to delete session:', error);\n      const errorMsg = error?.response?.data?.error\n        || error?.response?.data?.message\n        || error?.message\n        || 'Failed to delete session. The session may have already been deleted or does not exist.';\n      setErrorMessage(errorMsg);\n      setConfirmDeleteId(null);\n\n      // If session not found, remove it from the list anyway (it's already gone)\n      if (error?.response?.status === 404) {\n        console.warn('‚ö†Ô∏è Session not found (404), removing from list anyway');\n        setSessions((prev) => prev.filter((s) => s.id !== confirmDeleteId));\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem(`session_${confirmDeleteId}`);\n        }\n        // Show a more user-friendly message\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 3000);\n      }\n    }\n  };\n\n  const handleStartEdit = (session: Session) => {\n    setEditingId(session.id);\n    setEditName(session.name);\n  };\n\n  const handleSaveEdit = async (sessionId: string) => {\n    try {\n      await apiClient.put(`/api/sessions/${sessionId}`, {\n        name: editName,\n      });\n\n      setSessions(\n        sessions.map((s) =>\n          s.id === sessionId ? { ...s, name: editName } : s\n        )\n      );\n      setEditingId(null);\n\n      // Also update localStorage\n      if (typeof window !== 'undefined') {\n        const session = sessions.find(s => s.id === sessionId);\n        if (session) {\n          const updatedSession = { ...session, name: editName };\n          localStorage.setItem(`session_${sessionId}`, JSON.stringify(updatedSession));\n        }\n      }\n    } catch (error) {\n      console.error('Failed to update session:', error);\n      setErrorMessage('Failed to update session name. Please try again.');\n    }\n  };\n\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditName('');\n  };\n\n  const formatDuration = (seconds?: number) => {\n    if (!seconds) return 'N/A';\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}m ${secs}s`;\n  };\n\n  const getStatusBadge = (session: Session) => {\n    if (session.endTime) {\n      return (\n        <span className=\"px-3 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full\">\n          Completed\n        </span>\n      );\n    }\n    return (\n      <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full\">\n        In Progress\n      </span>\n    );\n  };\n\n  if (!isAuthenticated || !user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Centered error overlay */}\n      {errorMessage && (\n        <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/40\">\n          <div className=\"max-w-md w-full px-4\">\n            <ErrorMessage\n              title=\"Something went wrong\"\n              message={errorMessage}\n              onDismiss={() => setErrorMessage(null)}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Centered delete confirmation dialog */}\n      {confirmDeleteId && (\n        <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/40\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">\n              Delete this session?\n            </h3>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              This will permanently remove the session and its transcript from this app. This action cannot be undone.\n            </p>\n            <div className=\"flex justify-end gap-3 mt-4\">\n              <button\n                onClick={() => setConfirmDeleteId(null)}\n                className=\"px-4 py-2.5 min-h-[44px] rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300 active:scale-95 text-sm font-medium touch-manipulation transition-all duration-200\"\n                style={{ WebkitTapHighlightColor: 'transparent' }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleConfirmDelete}\n                className=\"px-4 py-2.5 min-h-[44px] rounded-full bg-red-600 text-white hover:bg-red-700 active:bg-red-800 active:scale-95 text-sm font-semibold shadow-sm touch-manipulation transition-all duration-200\"\n                style={{ WebkitTapHighlightColor: 'transparent' }}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex justify-between items-center\">\n          <h1 className=\"text-3xl font-bold text-brand-navy-900 tracking-tight\">My Sessions</h1>\n          <button\n            onClick={() => router.push('/lobby')}\n            className=\"px-4 py-2.5 min-h-[44px] text-sm font-semibold text-brand-navy-900 hover:text-brand-gold-500 active:opacity-70 transition-all duration-200 rounded-xl hover:bg-gray-100 active:bg-gray-200 touch-manipulation\"\n            style={{ WebkitTapHighlightColor: 'transparent' }}\n          >\n            ‚Üê Back to Lobby\n          </button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {loadingState ? (\n          <div className=\"text-center py-16 animate-fade-in\">\n            <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-brand-navy-900 border-t-transparent mx-auto\"></div>\n            <p className=\"mt-6 text-gray-600 font-medium\">Loading sessions...</p>\n          </div>\n        ) : sessions.length === 0 ? (\n          <div className=\"text-center py-16 animate-slide-up\">\n            <div className=\"inline-block p-6 bg-gray-100 rounded-3xl mb-6\">\n              <div className=\"text-7xl\">üìù</div>\n            </div>\n            <h2 className=\"text-3xl font-bold text-brand-navy-900 mb-3\">\n              No Sessions Yet\n            </h2>\n            <p className=\"text-gray-600 mb-8 text-lg\">\n              Start your first interview training session\n            </p>\n            <button\n              onClick={() => router.push('/session-config')}\n              className=\"px-8 py-4 bg-brand-navy-900 text-white rounded-xl font-semibold hover:bg-brand-navy-800 transition-all duration-200 shadow-lg hover:shadow-xl\"\n            >\n              Create New Session\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-5\">\n            {sessions.map((session, index) => (\n              <div key={session.id} className=\"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-brand-lg transition-all duration-300 hover:-translate-y-1\">\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex-1 min-w-0\">\n                    {editingId === session.id ? (\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <input\n                          type=\"text\"\n                          value={editName}\n                          onChange={(e) => setEditName(e.target.value)}\n                          className=\"flex-1 px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-navy-900 focus:border-transparent\"\n                          autoFocus\n                        />\n                        <button\n                          onClick={() => handleSaveEdit(session.id)}\n                          className=\"px-5 py-2.5 min-h-[44px] bg-brand-navy-900 text-white rounded-xl hover:bg-brand-gold-500 active:bg-brand-gold-600 active:scale-95 transition-all duration-200 text-sm font-semibold shadow-sm touch-manipulation\"\n                          style={{ WebkitTapHighlightColor: 'transparent' }}\n                        >\n                          Save\n                        </button>\n                        <button\n                          onClick={handleCancelEdit}\n                          className=\"px-5 py-2.5 min-h-[44px] bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 active:bg-gray-400 active:scale-95 transition-all duration-200 text-sm font-medium touch-manipulation\"\n                          style={{ WebkitTapHighlightColor: 'transparent' }}\n                        >\n                          Cancel\n                        </button>\n                      </div>\n                    ) : (\n                      <div className=\"flex items-center gap-3 mb-4 flex-wrap\">\n                        <h3 className=\"text-xl font-bold text-brand-navy-900 truncate\">\n                          {(() => {\n                            if (session.name.startsWith('Session')) {\n                              const practiceNum = sessions.length - index;\n                              if (isValidDate(session.startTime)) {\n                                return `Practise${practiceNum} ${new Date(session.startTime).toLocaleString('en-US', {\n                                  month: 'numeric',\n                                  day: 'numeric',\n                                  year: 'numeric',\n                                  hour: 'numeric',\n                                  minute: '2-digit',\n                                  hour12: true\n                                })}`;\n                              }\n                              return session.name.replace('Session', `Practise${practiceNum}`).replace(/:\\d{2} (?=[AP]M)/, ' ');\n                            }\n                            return session.name;\n                          })()}\n                        </h3>\n                        {getStatusBadge(session)}\n                      </div>\n                    )}\n\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4\">\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-semibold text-gray-700 mb-1\">Started</span>\n                        <span className=\"text-gray-600\">\n                          {formatDistance(session.startTime)}\n                        </span>\n                      </div>\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-semibold text-gray-700 mb-1\">Duration</span>\n                        <span className=\"text-gray-600\">{formatDuration(session.duration)}</span>\n                      </div>\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-semibold text-gray-700 mb-1\">Avatar</span>\n                        <span className=\"text-gray-600\">{session.avatarId.split('_')[0]}</span>\n                      </div>\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-semibold text-gray-700 mb-1\">Difficulty</span>\n                        <span className=\"text-gray-600 capitalize\">\n                          {session.quality === 'low' ? 'Easy' :\n                            session.quality === 'medium' ? 'Medium' :\n                              session.quality === 'high' ? 'Hard' :\n                                session.quality}\n                        </span>\n                      </div>\n                    </div>\n\n                    {session.transcript && session.transcript.length > 0 && (\n                      <div className=\"text-sm text-gray-600\">\n                        <span className=\"font-semibold text-gray-700\">Messages:</span>{' '}\n                        <span className=\"text-brand-navy-700\">{session.transcript.length}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"flex flex-col gap-2 shrink-0\">\n                    {session.endTime && session.report && (\n                      <button\n                        onClick={() => router.push(`/report?sessionId=${session.id}`)}\n                        className=\"px-5 py-2.5 min-h-[44px] bg-brand-navy-900 text-white rounded-xl hover:bg-brand-gold-500 active:bg-brand-gold-600 active:scale-95 transition-all duration-200 text-sm font-semibold shadow-sm hover:shadow-md whitespace-nowrap touch-manipulation\"\n                        style={{ WebkitTapHighlightColor: 'transparent' }}\n                      >\n                        üìä View Report\n                      </button>\n                    )}\n                    {editingId !== session.id && (\n                      <>\n                        <button\n                          onClick={() => handleStartEdit(session)}\n                          className=\"px-5 py-2.5 min-h-[44px] bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 active:bg-gray-300 active:scale-95 transition-all duration-200 text-sm font-medium whitespace-nowrap touch-manipulation\"\n                          style={{ WebkitTapHighlightColor: 'transparent' }}\n                        >\n                          ‚úèÔ∏è Edit\n                        </button>\n                        <button\n                          onClick={() => requestDelete(session.id)}\n                          className=\"px-5 py-2.5 min-h-[44px] bg-red-50 text-red-700 rounded-xl hover:bg-red-100 active:bg-red-200 active:scale-95 transition-all duration-200 text-sm font-medium whitespace-nowrap touch-manipulation\"\n                          style={{ WebkitTapHighlightColor: 'transparent' }}\n                        >\n                          üóëÔ∏è Delete\n                        </button>\n                        <button\n                          className=\"px-5 py-2.5 min-h-[44px] bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 active:bg-blue-200 active:scale-95 transition-all duration-200 text-sm font-medium whitespace-nowrap touch-manipulation\"\n                          style={{ WebkitTapHighlightColor: 'transparent' }}\n                        >\n                          üì§ Share\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}